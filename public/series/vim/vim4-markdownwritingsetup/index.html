<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setup markdown writing with Vim and Obsidian | Home</title><meta name=keywords content><meta name=description content="Combine Vim and Obsidian together"><meta name=author content="sokinpui"><link rel=canonical href=https://canonical.url/to/page><link crossorigin=anonymous href=/Blog/assets/css/stylesheet.min.d13dc9670c54a799901d8f51eb366234127600b84f76504283993a1e6bb2ffd7.css integrity="sha256-0T3JZwxUp5mQHY9R6zZiNBJ2ALhPdlBCg5k6Hmuy/9c=" rel="preload stylesheet" as=style><link rel=icon href=https://sokinpui.github.io/Blog/favicon.ico><link rel=apple-touch-icon href=https://sokinpui.github.io/Blog/apple-touch-icon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta name=twitter:card content="summary"><meta name=twitter:title content="Setup markdown writing with Vim and Obsidian | Home"><meta name=twitter:description content="Combine Vim and Obsidian together"><meta property="og:title" content="Setup markdown writing with Vim and Obsidian | Home"><meta property="og:description" content="Combine Vim and Obsidian together"><meta property="og:type" content="article"><meta property="og:url" content="https://sokinpui.github.io/Blog/series/vim/vim4-markdownwritingsetup/"><meta property="og:image" content="https://sokinpui.github.io/Blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="series"><meta property="article:published_time" content="2023-08-03T09:26:43+08:00"><meta property="article:modified_time" content="2023-08-03T09:26:43+08:00"><meta property="og:site_name" content="Home"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"List of post","item":"https://sokinpui.github.io/Blog/series/"},{"@type":"ListItem","position":2,"name":"Using Vim","item":"https://sokinpui.github.io/Blog/series/vim/"},{"@type":"ListItem","position":3,"name":"Setup markdown writing with Vim and Obsidian","item":"https://sokinpui.github.io/Blog/series/vim/vim4-markdownwritingsetup/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setup markdown writing with Vim and Obsidian | Home","name":"Setup markdown writing with Vim and Obsidian","description":"Combine Vim and Obsidian together","keywords":[""],"wordCount":"556","inLanguage":"en","datePublished":"2023-08-03T09:26:43+08:00","dateModified":"2023-08-03T09:26:43+08:00","author":{"@type":"Person","name":"sokinpui"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://sokinpui.github.io/Blog/series/vim/vim4-markdownwritingsetup/"},"publisher":{"@type":"Organization","name":"Home","logo":{"@type":"ImageObject","url":"https://sokinpui.github.io/Blog/favicon.ico"}}}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css integrity=sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js integrity=sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="type-series kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="auto",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=https://sokinpui.github.io/Blog/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://sokinpui.github.io/Blog/series/ title=Series class=active>Series</a></li><li><a href=https://sokinpui.github.io/Blog/post/ title=Post>Post</a></li></ul></nav></header><main class="main post"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://sokinpui.github.io/Blog/>Home</a>&nbsp;»&nbsp;<a href=https://sokinpui.github.io/Blog/series/>List of post</a>&nbsp;»&nbsp;<a href=https://sokinpui.github.io/Blog/series/vim/>Using Vim</a></div><h1 class=post-title>Setup markdown writing with Vim and Obsidian</h1><div class=post-description>Combine Vim and Obsidian together</div><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>August 3, 2023</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select:text"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" style="user-select:text"/><line x1="7" y1="7" x2="7" y2="7" style="user-select:text"/></svg>
<span class=post-tags></span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>3 min</span></span></div></header><div class="toc side left"><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#fzf-and-markdown aria-label="fzf and markdown">fzf and markdown</a><ul><li><a href=#navigate-obsidian-vault aria-label="Navigate obsidian vault">Navigate obsidian vault</a></li><li><a href=#insert-link-to-files aria-label="insert link to files">insert link to files</a></li></ul></li><li><a href=#snips aria-label=snips>snips</a></li><li><a href=#concealment aria-label=Concealment>Concealment</a></li></ul></div></details></div><div class=post-content><p>There are so many markdown editor exist already, most of them are really easy to use. But most of them provide feature more close to preview the markdown document, rather than editing or help writing. Like <a href=https://typora.io/>typora</a>, it trust to have to best markdown writing experience as it has great live preview and <strong>What You See Is What You Mean</strong>. I love its <strong>What You See Is What You Mean</strong>, since it must same as how the file render on browser, however, markdown file is so simple compare to tex, what you writing is close enough to what you see. Therefore, I regard <a href=https://typora.io/>typora</a> as a good markdown reader instead of good markdown writer.</p><p>Another application I want to discuss about, <a href=https://obsidian.md/>obsidian</a>, also provide great live preview, it has sidebar file explorer, extension support, making it look like vscode for markdown. However, in terms of markdown editing. obsidian is still far behind an serious editor like emacs, vscode or vim. I don&rsquo;t say obsidian is not good as them, it is the difference between their purpose, &ldquo;Markdown editor&rdquo; is just good for reading markdown file, &ldquo;Editor&rdquo; is just good at editing. This is the reason I would recommend using an editor as the backend of markdown writing. You don&rsquo;t have to use vim, you can pick your favourite editor. This blog provide ideas to speed up your markdown writing.</p><h1 id=fzf-and-markdown>fzf and markdown<a hidden class=anchor aria-hidden=true href=#fzf-and-markdown>¶</a></h1><h2 id=navigate-obsidian-vault>Navigate obsidian vault<a hidden class=anchor aria-hidden=true href=#navigate-obsidian-vault>¶</a></h2><p>It is common that we work on an directory instead of single file, often jump to another file, other than clicking your file explorer, you can use fzf to jump to another file. For example you can map a shortcut that will fzf search the root of your markdown directory. <strong>Obsidian</strong> has the concept of vault, it is same as directory, or git repo, You can convert your obsidian vault to git repo, they won&rsquo;t conflict.</p><p>Neovim has many fzf tools integrated well, I use <a href=https://github.com/junegunn/fzf.vim>fzf.vim</a>, because I know it first, there are very little difference between those fzf.vim in terms of functionality, just pick one.</p><p>With lines of vimscript, jumping within your vault is easy:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>s</span>:<span class=nx>fzfroot</span>#<span class=nx>find_git_root</span><span class=p>()</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    <span class=nx>return</span> <span class=nx>system</span><span class=p>(</span><span class=s1>&#39;git rev-parse --show-toplevel 2&gt; /dev/null&#39;</span><span class=p>)</span>[:<span class=m>-2</span>]<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>endfunction</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=nx>command</span><span class=p>!</span> <span class=nx>ProjectFiles</span> <span class=nx>execute</span> <span class=s1>&#39;Files&#39;</span> <span class=nx>fzfroot</span>#<span class=nx>find_git_root</span><span class=p>()</span><span class=err>
</span></span></span></code></pre></div><p>You can use command ProjectFiles to naigate your vault after convert it into git repo. You can of course map a key to <code>ProjectFiles</code>.</p><h2 id=insert-link-to-files>insert link to files<a hidden class=anchor aria-hidden=true href=#insert-link-to-files>¶</a></h2><p>When writing or note taking, we often link file together, if you care about protabilty, you may not want to use obsidian specific wiki link format, you may prefer markdown format more, so to insert file link within obsidian vault, <strong>fzf.vim</strong> can do so.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>inoremap</span> <span class=p>&lt;</span><span class=nx>expr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>l</span><span class=p>&gt;</span> <span class=nx>fzf</span>#<span class=nx>vim</span>#<span class=nx>complete</span>#<span class=nx>path</span><span class=p>(</span><span class=s1>&#39;fd --type=file . $(git rev-parse --show-cdup 2&gt; /dev/null)&#39;</span><span class=p>)</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=nx>inoremap</span> <span class=p>&lt;</span><span class=nx>expr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>f</span><span class=p>&gt;</span> <span class=nx>fzf</span>#<span class=nx>vim</span>#<span class=nx>complete</span>#<span class=nx>path</span><span class=p>(</span><span class=s1>&#39;fd --type=file . $(git rev-parse --show-toplevel 2&gt; /dev/null)&#39;</span><span class=p>)</span><span class=err>
</span></span></span></code></pre></div><p>The first line insert relative path to root of vault, the second line will insert full path to the file. you can autocomplete when you editing link <code>[]()</code>.</p><h1 id=snips>snips<a hidden class=anchor aria-hidden=true href=#snips>¶</a></h1><p>Snippets is just easier to set up on code editor than markdown editor, and integrate well with auto completion. I use <a href=https://github.com/SirVer/ultisnips>Ultisnips</a> I have decide merge to Luasnips, but their is only little preformance enhancment, so I stay in Ultisnips. You can check my autocomplete and snippets setup in <a href=/Blog/post/vim-4/>this blog</a></p><h1 id=concealment>Concealment<a hidden class=anchor aria-hidden=true href=#concealment>¶</a></h1><p>You can concealment markdown syntax by add the following line in your <code>vimrc</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>set</span> <span class=nx>conceallevel</span><span class=p>=</span><span class=m>2</span><span class=err>
</span></span></span></code></pre></div><p>Example:
<img loading=lazy src=/Blog/series/vim/vim4-markdownwritingsetup/conceal.gif type alt=conceal1.git></p></div><footer class=post-footer><nav class=paginav><a class=next href=https://sokinpui.github.io/Blog/series/vim/vim3-xdgforvim/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>XDG base configuration for Vim</span></a></nav></footer><div class=comments-separator></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://sokinpui.github.io/Blog/>Home</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n="1"=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/Blog/js/medium-zoom.min.js data-no-instant></script>
<script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script><script src=/Blog/js/instantclick.min.js data-no-instant></script>
<script data-no-instant>InstantClick.init()</script></body></html>